<!DOCTYPE html> 
<html lang='fr'> 
	<head> 
		<title> . </title> 
		<meta charset='utf-8'> 
		<meta name='description' content='description...'> 
		<meta name='viewport' content='width=device-width, initial-scale=1.0'> 
		<meta http-equiv='X-UA-Compatible' content='ie=edge'> 
		<link rel='icon' type='image/png' href='images/favicon.png'>  
		<link rel='stylesheet' href='styles/style.css'> 
	</head> 
	<body>
		<div id="app"></div>
		<script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
		<script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/JSXTransformer.js"></script>
		<script type="text/jsx">
			class App extends React.Component {
				constructor(props) {
					super(props)
					this.state = { renderClock: true }
					setTimeout(() => {
						this.setState({ renderClock: false })
					}, 5000)
				}
			
				render () {
					return (
						<div>
							{this.state.renderClock && <Clock></Clock>}
						</div>
					)
				}
			}

			class Clock extends React.Component {
				constructor(props) {
					super(props)
					this.state = {
						time: new Date
					}
				}
			
				componentDidMount () {
					this.interval = setInterval(() => {
						this.setState({
							time: new Date
						})
					}, 1000);
				}
				
				componentWillUnmount () {
					console.log('bye')
					clearInterval(this.interval)
				}
			
				render() {
					return (
						<div>
							{ this.state.time.toLocaleTimeString() }
						</div>
					)
				}
			}

			ReactDOM.render(<App />, document.querySelector("#app"))

		</script>
	</body> 
</html> 
